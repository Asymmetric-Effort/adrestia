{
  "name": "adrestia",
  "description": "Service catalog",
  "author": "Sam Caldwell",
  "license": "MIT",
  "version": "1.0.0",
  "dependencies": {
    "express": "^4.17.1",
    "pg": "^8.6.0",
    "reflect-metadata": "^0.1.13",
    "typeorm": "^0.2.35"
  },
  "devDependencies": {
    "@types/express": "^4.17.13",
    "@types/jest": "^27.0.1",
    "@types/node": "^16.0.0",
    "@types/supertest": "^2.0.11",
    "@typescript-eslint/eslint-plugin": "^5.9.1",
    "@typescript-eslint/parser": "^5.9.1",
    "eslint": "^8.7.0",
    "jest": "^27.4.5",
    "supertest": "^6.2.2",
    "ts-jest": "^27.1.3",
    "ts-node": "^10.4.0",
    "typescript": "^4.4.4"
  },
  "main": "srs/index.ts",
  "scripts": {
    "start": "DB_SERVER=172.16.10.2 DB_PORT=5432 DB_USER=adrestia DB_PASS=password DB_NAME=adrestia APP_PORT=3000 node dist/index.js",
    "dev": "DB_SERVER=172.16.10.2 DB_PORT=5432 DB_USER=adrestia DB_PASS=password DB_NAME=adrestia ts-node src/index.ts",
    "build": "tsc",
    "lint": "eslint src/**/*.ts",
    "test": "DB_SERVER=172.16.10.2 DB_PORT=5432 DB_USER=adrestia DB_PASS=password DB_NAME=adrestia jest",
    "bump_version": "npm version patch",
    "db-kill": "docker kill adrestiadb",
    "db-build": "docker build -t adrestia-db:local --file docker.d/postgres.docker . && mkdir -p storage/db || true; ",
    "db-run": "docker run -d --rm --name adrestiadb -p 0.0.0.0:5432:5432 -e POSTGRES_USER=adrestia -e POSTGRES_PASSWORD=password -e POSTGRES_DB=adrestia -v $(pwd)/storage/db:/var/lib/postgresql adrestia-db:local",
    "db-user": "docker exec -it adrestiadb psql -c \"create user adrestia with password 'password';\"",
    "db-start": "npm run db-build && npm run db-kill && npm run db-run && npm run db-user && npm run db-migrate",
    "db-migrate": "DB_SERVER=172.16.10.2 DB_PORT=5432 DB_USER=adrestia DB_PASS=password DB_NAME=adrestia ts-node src/db-migration.ts"
  }
}
